/*!
 * jQuery Fraction Slider v0.9.9.6
 * http://fractionslider.jacksbox.de
 *
 * Author: Mario JÃ¤ckle
 * eMail: support@jacksbox.de
 *
 * Copyright 2013, jacksbox.design
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Special thanks to: Lietzi (https://github.com/lietzi) for contributing
 */
(function(d){var b=null,a={init:function(g){var f=d.extend({slideTransition:"none",slideTransitionSpeed:2000,slideEndAnimation:true,position:"0,0",transitionIn:"left",transitionOut:"left",fullWidth:false,delay:0,timeout:2000,speedIn:2500,speedOut:1000,easeIn:"easeOutExpo",easeOut:"easeOutCubic",controls:false,pager:false,autoChange:true,backgroundAnimation:false,backgroundElement:null,backgroundX:500,backgroundY:500,backgroundSpeed:2500,backgroundEase:"easeOutCubic",responsive:false,increase:false,dimensions:""},g);return this.each(function(){b=new e(this,f)})},pause:function(){b.pause()},resume:function(){b.resume()},stop:function(){b.stop()},start:function(){b.start()},startNextSlide:function(){b.startNextSlide()}};var e=function(t,D){var S={init:true,running:false,pause:false,stop:false,controlsActive:true,currentSlide:0,lastSlide:null,maxSlide:0,currentStep:0,maxStep:0,currentObj:0,maxObjs:0,finishedObjs:0},m={currentSlide:null,lastSlide:null,animationkey:"none"},aa=[],V=null,C=null,B=null;d(t).wrapInner('<div class="fraction-slider" />');var l=d(t).find(".fraction-slider"),i=null;S.maxSlide=l.children(".slide").length-1;var h=l.width(),Y=d("body").width(),O=0;if(D.fullWidth){O=(Y-h)/2;h=Y}var p=l.height();W();function W(){if(D.controls){l.append('<a href="#" class="prev"></a><a href="#" class="next" ></a>');l.find(".next").bind("click",function(){return w()});l.find(".prev").bind("click",function(){return I()})}if(D.fullWidth){l.css({overflow:"visible"})}else{l.css({overflow:"hidden"})}if(D.pager){i=d('<div class="fs-pager-wrapper"></div>');l.append(i)}l.children(".slide").each(function(af){var ad=d(this);ad.children().attr("rel",af).addClass("fs_obj");ad.children("[data-fixed]").addClass("fs_fixed_obj");if(D.pager){var ae=d('<a rel="'+af+'" href="#"></a>').bind("click",function(){return u(this)});i.append(ae)}});if(D.pager){i=d(i).children("a")}if(D.responsive){r()}if(l.find(".fs_loader").length>0){l.find(".fs_loader").remove()}E()}function E(){S.stop=false;S.pause=false;S.running=true;T("slide")}this.start=function(){E()};function z(){S.stop=false;S.pause=false;S.running=true;N()}this.startNextSlide=function(){z()};function y(){S.stop=true;S.running=false;l.find(".slide").stop(true,true);l.find(".fs_obj").stop(true,true).removeClass("fs-animation");Q(aa)}this.stop=function(){y()};function g(){S.pause=true;S.running=false;l.find(".fs-animation").finish()}this.pause=function(){g()};function n(){S.stop=false;S.pause=false;S.running=true;if(S.finishedObjs<S.maxObjs){T("obj")}else{if(S.currentStep<S.maxStep){T("step")}else{T("slide")}}}this.resume=function(){n()};function N(){S.lastSlide=S.currentSlide;S.currentSlide+=1;S.stop=false;S.pause=false;S.running=true;G()}function J(){S.lastSlide=S.currentSlide;S.currentSlide-=1;S.stop=false;S.pause=false;S.running=true;G()}function v(ad){S.lastSlide=S.currentSlide;S.currentSlide=ad;S.stop=false;S.pause=false;S.running=true;G()}function u(ad){var ae=parseInt(d(ad).attr("rel"));if(ae!=S.currentSlide){y();v(ae)}return false}function I(){y();J();return false}function w(){y();N();return false}function T(ad){if(!S.pause&&!S.stop&&S.running){switch(ad){case"slide":F();break;case"step":q();break;case"obj":M();break}}}function F(){var ad=D.timeout;if(S.init){S.init=false;G(true)}else{aa.push(setTimeout(function(){if(S.maxSlide==0&&S.running==true){}else{S.lastSlide=S.currentSlide;S.currentSlide+=1;G()}},ad))}}function G(ad){d(".active-slide").removeClass("active-slide");if(S.currentSlide>S.maxSlide){S.currentSlide=0}if(S.currentSlide<0){S.currentSlide=S.maxSlide}m.currentSlide=l.children(".slide:eq("+S.currentSlide+")").addClass("active-slide");if(m.currentSlide.length==0){S.currentSlide=0;m.currentSlide=l.children(".slide:eq("+S.currentSlide+")")}if(S.lastSlide!=null){if(S.lastSlide<0){S.lastSlide=S.maxSlide}m.lastSlide=l.children(".slide:eq("+S.lastSlide+")")}if(ad){m.animation="none"}else{m.animation=m.currentSlide.attr("data-in");if(m.animation==null){m.animation=D.slideTransition}}if(D.slideEndAnimation&&S.lastSlide!=null){A()}else{switch(m.animation){case"none":U();H();break;case"scrollLeft":U();H();break;case"scrollRight":U();H();break;case"scrollTop":U();H();break;case"scrollBottom":U();H();break;default:U();break}}}function U(){if(D.backgroundAnimation){f()}if(D.pager){i.removeClass("active");i.eq(S.currentSlide).addClass("active")}P();m.currentSlide.children().hide();S.currentStep=0;S.currentObj=0;S.maxObjs=0;S.finishedObjs=0;m.currentSlide.children("[data-fixed]").show();x()}function o(ad){if(m.lastSlide!=null){m.lastSlide.hide()}if(ad.hasClass("active-slide")){T("step")}}function H(){if(m.lastSlide==null){return}if(m.animation!="none"){ac()}}function k(){}function P(){var ae=m.currentSlide.children(),ad=0;ae.each(function(){var af=parseFloat(d(this).attr("data-step"));ad=(af>ad)?af:ad});S.maxStep=ad}function q(){var ad;if(S.currentStep==0){ad=m.currentSlide.children('*:not([data-step]):not([data-fixed]), *[data-step="'+S.currentStep+'"]:not([data-fixed])')}else{ad=m.currentSlide.children('*[data-step="'+S.currentStep+'"]:not([data-fixed])')}S.maxObjs=ad.length;V=ad;if(S.maxObjs>0){S.currentObj=0;S.finishedObjs=0;T("obj")}else{s()}}function s(){S.currentStep+=1;if(S.currentStep>S.maxStep){if(D.autoChange){S.currentStep=0;T("slide")}return}T("step")}function M(){var ah=d(V[S.currentObj]);ah.addClass("fs-animation");var ad=ah.attr("data-position"),ai=ah.attr("data-in"),af=ah.attr("data-delay"),ag=ah.attr("data-time"),aj=ah.attr("data-ease-in"),ae=ah.attr("data-special");if(ad==null){ad=D.position.split(",")}else{ad=ad.split(",")}if(ai==null){ai=D.transitionIn}if(af==null){af=D.delay}if(aj==null){aj=D.easeIn}R(ah,ad,ai,af,ag,aj,ae);S.currentObj+=1;if(S.currentObj<S.maxObjs){T("obj")}else{S.currentObj=0}}function Z(ad){ad.removeClass("fs-animation");if(ad.attr("rel")==S.currentSlide){S.finishedObjs+=1;if(S.finishedObjs==S.maxObjs){s()}}}function A(){var ad=m.lastSlide.children(":not([data-fixed])");ad.each(function(){var af=d(this),ae=af.position(),ag=af.attr("data-out"),ah=af.attr("data-ease-out");if(ag==null){ag=D.transitionOut}if(ah==null){ah=D.easeOut}L(af,ae,ag,null,ah)}).promise().done(function(){H();U()})}function x(){var ad=m.currentSlide,af={},ae={},ah=D.slideTransitionSpeed,ag=m.animation;if(D.responsive){unit="%"}else{unit="px"}switch(ag){case"slideLeft":af.left=h+unit;af.top="0"+unit;af.display="block";ae.left="0"+unit;ae.top="0"+unit;break;case"slideTop":af.left="0"+unit;af.top=-p+unit;af.display="block";ae.left="0"+unit;ae.top="0"+unit;break;case"slideBottom":af.left="0"+unit;af.top=p+unit;af.display="block";ae.left="0"+unit;ae.top="0"+unit;break;case"slideRight":af.left=-h+unit;af.top="0"+unit;af.display="block";ae.left="0"+unit;ae.top="0"+unit;break;case"fade":af.left="0"+unit;af.top="0"+unit;af.display="block";af.opacity=0;ae.opacity=1;break;case"none":af.left="0"+unit;af.top="0"+unit;af.display="block";ah=0;break;case"scrollLeft":af.left=h+unit;af.top="0"+unit;af.display="block";ae.left="0"+unit;ae.top="0"+unit;break;case"scrollTop":af.left="0"+unit;af.top=-p+unit;af.display="block";ae.left="0"+unit;ae.top="0"+unit;break;case"scrollBottom":af.left="0"+unit;af.top=p+unit;af.display="block";ae.left="0"+unit;ae.top="0"+unit;break;case"scrollRight":af.left=-h+unit;af.top="0"+unit;af.display="block";ae.left="0"+unit;ae.top="0"+unit;break}ad.css(af).animate(ae,ah,"linear",function(){o(ad)})}function ac(){var ae={},ad={},ah=D.slideTransitionSpeed,af=null,ag=m.animation;if(D.responsive){af="%"}else{af="px"}switch(ag){case"scrollLeft":ad.left=-h+af;ad.top="0"+af;break;case"scrollTop":ad.left="0"+af;ad.top=p+af;break;case"scrollBottom":ad.left="0"+af;ad.top=-p+af;break;case"scrollRight":ad.left=h+af;ad.top="0"+af;break;default:ah=0;break}m.lastSlide.animate(ad,ah,"linear",function(){k()})}function R(af,ah,aj,ag,ae,ai,ak){var an={},al={},ad=D.speedIn,am=null;if(D.responsive){am="%"}else{am="px"}if(ae!=null){ad=ae-ag}an.opacity=1;switch(aj){case"left":an.top=ah[0];an.left=h;break;case"bottomLeft":an.top=p;an.left=h;break;case"topLeft":an.top=af.outerHeight()*-1;an.left=h;break;case"top":an.top=af.outerHeight()*-1;an.left=ah[1];break;case"bottom":an.top=p;an.left=ah[1];break;case"right":an.top=ah[0];an.left=-O-af.outerWidth();break;case"bottomRight":an.top=p;an.left=-O-af.outerWidth();break;case"topRight":an.top=af.outerHeight()*-1;an.left=-O-af.outerWidth();break;case"fade":an.top=ah[0];an.left=ah[1];an.opacity=0;al.opacity=1;break;case"none":an.top=ah[0];an.left=ah[1];an.display="none";ad=0;break}al.top=ah[0];al.left=ah[1];al.left=al.left+am;al.top=al.top+am;an.left=an.left+am;an.top=an.top+am;aa.push(setTimeout(function(){if(ak=="cycle"&&af.attr("rel")==S.currentSlide){var aq=af.prev();if(aq.length>0){var ap=d(aq).attr("data-position").split(",");ap={top:ap[0],left:ap[1]};var ao=d(aq).attr("data-out");if(ao==null){ao=D.transitionOut}L(aq,ap,ao,ad)}}af.css(an).show().animate(al,ad,ai,function(){Z(af)}).addClass("fs_obj_active")},ag))}function L(ae,ag,ai,ad,ah){var am={},aj={},al=null;ad=D.speedOut;if(D.responsive){al="%"}else{al="px"}var ak=ae.outerWidth(),af=ae.outerHeight();if(D.responsive){ak=X(ak,C);af=X(af,B)}switch(ai){case"left":aj.left=-O-100-ak;break;case"bottomLeft":aj.top=p;aj.left=-O-100-ak;break;case"topLeft":aj.top=-af;aj.left=-O-100-ak;break;case"top":aj.top=-af;break;case"bottom":aj.top=p;break;case"right":aj.left=h;break;case"bottomRight":aj.top=p;aj.left=h;break;case"topRight":aj.top=-af;aj.left=h;break;case"fade":am.opacity=1;aj.opacity=0;break;case"hide":aj.display="none";ad=0;break;default:aj.display="none";ad=0;break}if(typeof aj.top!="undefined"){if(aj.top.toString().indexOf("px")>0){aj.top=aj.top.substring(0,aj.top.length-2);if(D.responsive){aj.top=X(aj.top,B)}}}if(typeof aj.left!="undefined"){if(aj.left.toString().indexOf("px")>0){aj.left=aj.left.substring(0,aj.left.length-2);if(D.responsive){aj.left=X(aj.left,C)}}}aj.left=aj.left+al;aj.top=aj.top+al;ae.css(am).animate(aj,ad,ah,function(){ae.hide()}).removeClass("fs_obj_active")}function f(){var ag;if(D.backgroundElement==null||D.backgroundElement==""){ag=l.parent()}else{ag=d(D.backgroundElement)}var ae=ag.css("background-position");ae=ae.split(" ");var ah=D.backgroundX,af=D.backgroundY,ad=Number(ae[0].replace(/[px,%]/g,""))+Number(ah),ai=Number(ae[1].replace(/[px,%]/g,""))+Number(af);ag.animate({backgroundPositionX:ad+"px",backgroundPositionY:ai+"px"},D.backgroundSpeed,D.backgroundEase)}function r(){var ae=D.dimensions.split(",");C=ae["0"];B=ae["1"];var ad=l.children(".slide").find("*");ad.each(function(){var ai=d(this),ag=null,aj=null,ah=null;if(ai.attr("data-position")!=null){var af=ai.attr("data-position").split(",");ag=X(af[1],C);aj=X(af[0],B);ai.attr("data-position",aj+","+ag)}if(ai.attr("width")!=null){ah=ai.attr("width");ag=X(ah,C);ai.attr("width",ag+"%");ai.css("width",ag+"%")}else{if(ai.css("width")!="0px"){ah=ai.css("width");if(ah.indexOf("px")>0){ah=ah.substring(0,ah.length-2);ag=X(ah,C);ai.css("width",ag+"%")}}else{if(ai.prop("tagName").toLowerCase()=="img"){ah=ai.get(0).width;ag=X(ah,C);ai.css("width",ag+"%")}}}if(ai.attr("height")!=null){ah=ai.attr("height");aj=X(ah,B);ai.attr("height",aj+"%");ai.css("height",aj+"%")}else{if(ai.css("height")!="0px"){ah=ai.css("height");if(ah.indexOf("px")>0){ah=ah.substring(0,ah.length-2);aj=X(ah,B);ai.css("height",aj+"%")}}else{if(ai.prop("tagName").toLowerCase()=="img"){ah=ai.get(0).height;aj=X(ah,B);ai.css("height",aj+"%")}}}ai.attr("data-fontsize",ai.css("font-size"))});l.css({width:"auto",height:"auto"}).append('<div class="fs-stretcher" style="width:'+C+"px; height:"+B+'px"></div>');K();d(window).bind("resize",function(){K()})}function K(){var ad=l.innerWidth(),af=l.innerHeight();if(ad<=C||D.increase){var ag=C/B,ae=ad/ag;l.find(".fs-stretcher").css({width:ad+"px",height:ae+"px"})}Y=d("body").width();var ah=l.width();O=X(((Y-ah)/2),C);h=100;if(D.fullWidth){h=100+O*2}p=100;if(S.init==false||ad<C){ab()}}function ab(){var ad=null,af=null,ae=l.children(".slide").find("*");ae.each(function(){obj=d(this);var ag=obj.attr("data-fontsize");if(ag.indexOf("px")>0){ag=ag.substring(0,ag.length-2);af=X(ag,B)*(l.find(".fs-stretcher").height()/100);obj.css("fontSize",af+"px");obj.css("lineHeight","100%")}})}function X(ad,ae){return ad/(ae/100)}function j(ad){clearTimeout(ad)}function Q(ad){var ae=ad.length;d.each(ad,function(af){clearTimeout(this);if(af==ae-1){ad=[]}})}};d.fn.fractionSlider=function(f){if(a[f]){return a[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f=="object"||!f){return a.init.apply(this,arguments)}else{d.error("Method "+f+" does not exist on jQuery.tooltip")}}};var c={};d.each(["Quad","Cubic","Quart","Quint","Expo"],function(g,f){c[f]=function(h){return Math.pow(h,g+2)}});d.extend(c,{Sine:function(f){return 1-Math.cos(f*Math.PI/2)},Circ:function(f){return 1-Math.sqrt(1-f*f)},Elastic:function(f){return f==0||f==1?f:-Math.pow(2,8*(f-1))*Math.sin(((f-1)*80-7.5)*Math.PI/15)},Back:function(f){return f*f*(3*f-2)},Bounce:function(h){var f,g=4;while(h<((f=Math.pow(2,--g))-1)/11){}return 1/Math.pow(4,3-g)-7.5625*Math.pow((f*3-2)/22-h,2)}});d.each(c,function(g,f){d.easing["easeIn"+g]=f;d.easing["easeOut"+g]=function(h){return 1-f(1-h)};d.easing["easeInOut"+g]=function(h){return h<0.5?f(h*2)/2:1-f(h*-2+2)/2}})}(jQuery));